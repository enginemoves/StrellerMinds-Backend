# ==========================================
# STRELLER MINDS BACKEND - ENVIRONMENT CONFIGURATION
# ==========================================
# This file contains all environment variables that are validated by Joi schema
# Copy this file to .env and fill in your actual values
# ==========================================

# Node.js Environment (Required)
# Valid values: development, staging, production, test, openapi
NODE_ENV=development

# Application Server Configuration
PORT=3000
HOST=localhost

# ==========================================
# DATABASE CONFIGURATION (Required)
# ==========================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=your_secure_password
DATABASE_NAME=streller_minds

# Database Connection Options
DATABASE_SSL=false
DATABASE_SYNC=false
DATABASE_LOAD=true

# Connection Pool Settings
DATABASE_POOL_MAX=20
DATABASE_POOL_MIN=5
DATABASE_IDLE_TIMEOUT=30000

# Database Retry Settings
DATABASE_RETRY_ATTEMPTS=5
DATABASE_RETRY_DELAY=3000

# Pool Monitoring
DATABASE_POOL_MONITORING=false
DATABASE_POOL_METRICS_INTERVAL=30000

# ==========================================
# REDIS CONFIGURATION (Required for Production)
# ==========================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0
# REDIS_MAX_RETRIES=3

# ==========================================
# JWT CONFIGURATION (Required)
# ==========================================
# SECURITY NOTE: JWT_SECRET must be at least 32 characters long
JWT_SECRET=your_super_secure_jwt_secret_key_that_is_at_least_32_characters_long
JWT_EXPIRES_IN=3600s
# JWT_REFRESH_SECRET=your_super_secure_jwt_refresh_secret_key_for_production
# JWT_REFRESH_EXPIRES_IN=7d

# ==========================================
# EMAIL CONFIGURATION (Required for Production)
# ==========================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-email-password
# EMAIL_FROM=noreply@example.com

# ==========================================
# APPLICATION URLS (Required)
# ==========================================
BASE_URL=http://localhost:3000
FRONTEND_URL=http://localhost:4200
# API_URL=http://localhost:3000/api

# ==========================================
# RATE LIMITING / THROTTLING
# ==========================================
GLOBAL_RATE_LIMIT_TTL=60
GLOBAL_RATE_LIMIT_LIMIT=100
AUTH_RATE_LIMIT_TTL=900
AUTH_RATE_LIMIT_LIMIT=5

# ==========================================
# FILE STORAGE
# ==========================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# ==========================================
# CLOUDINARY CONFIGURATION (Required for Staging/Production)
# ==========================================
# CLOUDINARY_CLOUD_NAME=your_cloud_name
# CLOUDINARY_API_KEY=123456789012345
# CLOUDINARY_API_SECRET=your_cloudinary_secret

# ==========================================
# STELLAR BLOCKCHAIN CONFIGURATION (Required)
# ==========================================
SOROBAN_RPC_URL=https://soroban-testnet.stellar.org
STELLAR_NETWORK=TESTNET
CREDENTIAL_CONTRACT_ID=CC...your_contract_id_here...
SIGNER_SECRET_KEY=S...your_secret_key_here...

# ==========================================
# AWS CONFIGURATION (Optional)
# ==========================================
# AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# AWS_S3_REGION=us-east-1
# AWS_S3_BUCKET=your-s3-bucket
# AWS_CLOUDFRONT_DISTRIBUTION_ID=E1234567890ABC
# AWS_CLOUDFRONT_DOMAIN=d1234567890abc.cloudfront.net
# AWS_SIGNED_URL_EXPIRY=3600

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=false
LOG_FILE_PATH=logs/app-%DATE%.log
LOG_FILE_MAX_SIZE=20m
LOG_FILE_MAX_FILES=14
LOG_CONSOLE_ENABLED=true
LOG_CONSOLE_COLORIZE=true
LOG_ERROR_FILE_ENABLED=false
LOG_ERROR_FILE_PATH=logs/error-%DATE%.log
LOG_ERROR_FILE_MAX_SIZE=20m
LOG_ERROR_FILE_MAX_FILES=30

# ==========================================
# MONITORING & ALERTING
# ==========================================
SENTRY_ENABLED=false
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_DEBUG=false

# Alerting Configuration
ALERTING_ENABLED=false
EMAIL_ALERTS_ENABLED=false
# EMAIL_ALERT_RECIPIENTS=admin@example.com,dev@example.com
SLACK_ALERTS_ENABLED=false
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# ==========================================
# VIDEO PROCESSING
# ==========================================
VIDEO_PROCESSING_ENABLED=false
VIDEO_PROCESSING_CONCURRENT_JOBS=2
VIDEO_MAX_FILE_SIZE=5368709120
VIDEO_MAX_DURATION=7200
FFMPEG_PATH=/usr/bin/ffmpeg
FFPROBE_PATH=/usr/bin/ffprobe

# ==========================================
# BACKUP CONFIGURATION
# ==========================================
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30
BACKUP_MONTHLY_RETENTION_MONTHS=12
BACKUP_VERIFICATION_ENABLED=true

# ==========================================
# OPENTELEMETRY TRACING
# ==========================================
OTEL_SERVICE_NAME=streller-minds-backend
OTEL_COLLECTOR_URL=http://localhost:4318/v1/traces
OTEL_EXPORTER=jaeger
OTEL_SAMPLER_PROBABILITY=1.0
OTEL_RESOURCE_ATTRIBUTES=service.version=1.0

# ==========================================
# PAYMENT PROCESSING (Required for Staging/Production)
# ==========================================
# STRIPE_PUBLIC_KEY=pk_test_...
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# ==========================================
# VALIDATION NOTES
# ==========================================
# 1. All commented variables are optional for development but may be required for production
# 2. JWT_SECRET must be at least 32 characters long
# 3. All URLs must be valid URIs
# 4. Environment-specific requirements:
#    - Production: Requires SSL, Redis, Email, Cloudinary, Stripe, Sentry, etc.
#    - Staging: Similar to production but with relaxed monitoring
#    - Development: Most external services are optional
#    - Test: Minimal configuration for running tests
#    - OpenAPI: Only basic configuration needed for documentation generation