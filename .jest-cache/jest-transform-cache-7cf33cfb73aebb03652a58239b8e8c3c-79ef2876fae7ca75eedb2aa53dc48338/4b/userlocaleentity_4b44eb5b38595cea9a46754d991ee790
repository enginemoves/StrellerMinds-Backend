25a7e53583c1e68d0c9cde20cbda0006
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c;
Object.defineProperty(exports, "__esModule", { value: true });
exports.UserLocale = exports.LocaleSource = void 0;
const typeorm_1 = require("typeorm");
var LocaleSource;
(function (LocaleSource) {
    LocaleSource["USER_PREFERENCE"] = "user_preference";
    LocaleSource["BROWSER_DETECTION"] = "browser_detection";
    LocaleSource["GEO_LOCATION"] = "geo_location";
    LocaleSource["DEFAULT"] = "default";
})(LocaleSource || (exports.LocaleSource = LocaleSource = {}));
let UserLocale = class UserLocale {
};
exports.UserLocale = UserLocale;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)("uuid"),
    __metadata("design:type", String)
], UserLocale.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    (0, typeorm_1.Index)(),
    __metadata("design:type", String)
], UserLocale.prototype, "userId", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], UserLocale.prototype, "locale", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: "enum",
        enum: LocaleSource,
        default: LocaleSource.USER_PREFERENCE,
    }),
    __metadata("design:type", String)
], UserLocale.prototype, "source", void 0);
__decorate([
    (0, typeorm_1.Column)("simple-array", { nullable: true }),
    __metadata("design:type", Array)
], UserLocale.prototype, "fallbackLocales", void 0);
__decorate([
    (0, typeorm_1.Column)("jsonb", { nullable: true }),
    __metadata("design:type", Object)
], UserLocale.prototype, "preferences", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: true }),
    __metadata("design:type", Boolean)
], UserLocale.prototype, "isActive", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: "timestamp", nullable: true }),
    __metadata("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], UserLocale.prototype, "lastUsedAt", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", typeof (_b = typeof Date !== "undefined" && Date) === "function" ? _b : Object)
], UserLocale.prototype, "createdAt", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], UserLocale.prototype, "updatedAt", void 0);
exports.UserLocale = UserLocale = __decorate([
    (0, typeorm_1.Entity)("user_locales"),
    (0, typeorm_1.Unique)(["userId"]),
    (0, typeorm_1.Index)(["locale"]),
    (0, typeorm_1.Index)(["source"])
], UserLocale);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxvam9zZXBoXFxEb2N1bWVudHNcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxpMThuXFxlbnRpdGllc1xcdXNlci1sb2NhbGUuZW50aXR5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQ0FBbUg7QUFFbkgsSUFBWSxZQUtYO0FBTEQsV0FBWSxZQUFZO0lBQ3RCLG1EQUFtQyxDQUFBO0lBQ25DLHVEQUF1QyxDQUFBO0lBQ3ZDLDZDQUE2QixDQUFBO0lBQzdCLG1DQUFtQixDQUFBO0FBQ3JCLENBQUMsRUFMVyxZQUFZLDRCQUFaLFlBQVksUUFLdkI7QUFNTSxJQUFNLFVBQVUsR0FBaEIsTUFBTSxVQUFVO0NBMEN0QixDQUFBO0FBMUNZLGdDQUFVO0FBRXJCO0lBREMsSUFBQSxnQ0FBc0IsRUFBQyxNQUFNLENBQUM7O3NDQUNyQjtBQUlWO0lBRkMsSUFBQSxnQkFBTSxHQUFFO0lBQ1IsSUFBQSxlQUFLLEdBQUU7OzBDQUNNO0FBR2Q7SUFEQyxJQUFBLGdCQUFNLEdBQUU7OzBDQUNLO0FBT2Q7SUFMQyxJQUFBLGdCQUFNLEVBQUM7UUFDTixJQUFJLEVBQUUsTUFBTTtRQUNaLElBQUksRUFBRSxZQUFZO1FBQ2xCLE9BQU8sRUFBRSxZQUFZLENBQUMsZUFBZTtLQUN0QyxDQUFDOzswQ0FDa0I7QUFHcEI7SUFEQyxJQUFBLGdCQUFNLEVBQUMsY0FBYyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDOzttREFDakI7QUFHMUI7SUFEQyxJQUFBLGdCQUFNLEVBQUMsT0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDOzsrQ0FRbkM7QUFHRDtJQURDLElBQUEsZ0JBQU0sRUFBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQzs7NENBQ1Q7QUFHakI7SUFEQyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztrREFDakMsSUFBSSxvQkFBSixJQUFJOzhDQUFBO0FBR2pCO0lBREMsSUFBQSwwQkFBZ0IsR0FBRTtrREFDUixJQUFJLG9CQUFKLElBQUk7NkNBQUE7QUFHZjtJQURDLElBQUEsMEJBQWdCLEdBQUU7a0RBQ1IsSUFBSSxvQkFBSixJQUFJOzZDQUFBO3FCQXpDSixVQUFVO0lBSnRCLElBQUEsZ0JBQU0sRUFBQyxjQUFjLENBQUM7SUFDdEIsSUFBQSxnQkFBTSxFQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbEIsSUFBQSxlQUFLLEVBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqQixJQUFBLGVBQUssRUFBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0dBQ0wsVUFBVSxDQTBDdEIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxvam9zZXBoXFxEb2N1bWVudHNcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxpMThuXFxlbnRpdGllc1xcdXNlci1sb2NhbGUuZW50aXR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSwgUHJpbWFyeUdlbmVyYXRlZENvbHVtbiwgQ29sdW1uLCBDcmVhdGVEYXRlQ29sdW1uLCBVcGRhdGVEYXRlQ29sdW1uLCBJbmRleCwgVW5pcXVlIH0gZnJvbSBcInR5cGVvcm1cIlxyXG5cclxuZXhwb3J0IGVudW0gTG9jYWxlU291cmNlIHtcclxuICBVU0VSX1BSRUZFUkVOQ0UgPSBcInVzZXJfcHJlZmVyZW5jZVwiLFxyXG4gIEJST1dTRVJfREVURUNUSU9OID0gXCJicm93c2VyX2RldGVjdGlvblwiLFxyXG4gIEdFT19MT0NBVElPTiA9IFwiZ2VvX2xvY2F0aW9uXCIsXHJcbiAgREVGQVVMVCA9IFwiZGVmYXVsdFwiLFxyXG59XHJcblxyXG5ARW50aXR5KFwidXNlcl9sb2NhbGVzXCIpXHJcbkBVbmlxdWUoW1widXNlcklkXCJdKVxyXG5ASW5kZXgoW1wibG9jYWxlXCJdKVxyXG5ASW5kZXgoW1wic291cmNlXCJdKVxyXG5leHBvcnQgY2xhc3MgVXNlckxvY2FsZSB7XHJcbiAgQFByaW1hcnlHZW5lcmF0ZWRDb2x1bW4oXCJ1dWlkXCIpXHJcbiAgaWQ6IHN0cmluZ1xyXG5cclxuICBAQ29sdW1uKClcclxuICBASW5kZXgoKVxyXG4gIHVzZXJJZDogc3RyaW5nXHJcblxyXG4gIEBDb2x1bW4oKVxyXG4gIGxvY2FsZTogc3RyaW5nXHJcblxyXG4gIEBDb2x1bW4oe1xyXG4gICAgdHlwZTogXCJlbnVtXCIsXHJcbiAgICBlbnVtOiBMb2NhbGVTb3VyY2UsXHJcbiAgICBkZWZhdWx0OiBMb2NhbGVTb3VyY2UuVVNFUl9QUkVGRVJFTkNFLFxyXG4gIH0pXHJcbiAgc291cmNlOiBMb2NhbGVTb3VyY2VcclxuXHJcbiAgQENvbHVtbihcInNpbXBsZS1hcnJheVwiLCB7IG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgZmFsbGJhY2tMb2NhbGVzPzogc3RyaW5nW11cclxuXHJcbiAgQENvbHVtbihcImpzb25iXCIsIHsgbnVsbGFibGU6IHRydWUgfSlcclxuICBwcmVmZXJlbmNlcz86IHtcclxuICAgIGRhdGVGb3JtYXQ/OiBzdHJpbmdcclxuICAgIHRpbWVGb3JtYXQ/OiBzdHJpbmdcclxuICAgIG51bWJlckZvcm1hdD86IHN0cmluZ1xyXG4gICAgY3VycmVuY3k/OiBzdHJpbmdcclxuICAgIHRpbWV6b25lPzogc3RyaW5nXHJcbiAgICBydGw/OiBib29sZWFuXHJcbiAgfVxyXG5cclxuICBAQ29sdW1uKHsgZGVmYXVsdDogdHJ1ZSB9KVxyXG4gIGlzQWN0aXZlOiBib29sZWFuXHJcblxyXG4gIEBDb2x1bW4oeyB0eXBlOiBcInRpbWVzdGFtcFwiLCBudWxsYWJsZTogdHJ1ZSB9KVxyXG4gIGxhc3RVc2VkQXQ/OiBEYXRlXHJcblxyXG4gIEBDcmVhdGVEYXRlQ29sdW1uKClcclxuICBjcmVhdGVkQXQ6IERhdGVcclxuXHJcbiAgQFVwZGF0ZURhdGVDb2x1bW4oKVxyXG4gIHVwZGF0ZWRBdDogRGF0ZVxyXG59XHJcbiJdLCJ2ZXJzaW9uIjozfQ==