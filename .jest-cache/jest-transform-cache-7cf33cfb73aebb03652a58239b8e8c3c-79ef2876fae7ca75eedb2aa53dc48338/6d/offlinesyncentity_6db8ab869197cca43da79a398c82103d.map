{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\pwa\\entities\\offline-sync.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAA2G;AAQpG,IAAM,WAAW,GAAjB,MAAM,WAAW;CA0DvB,CAAA;AA1DY,kCAAW;AAEtB;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;uCACrB;AAIV;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACxD,IAAA,eAAK,GAAE;;2CACO;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;8CACjB;AAGxB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;+CACvB;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACxC;AAGjB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;yCAChB;AAGT;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CAMxC;AAID;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAC3D,IAAA,eAAK,GAAE;;2CACU;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;6CACxB;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;iDACpB;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CAC7B;AAGZ;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDAChC,IAAI,oBAAJ,IAAI;gDAAA;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;+CACtB;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;+CACtB;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDAChC,IAAI,oBAAJ,IAAI;gDAAA;AAGlB;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;8CAAA;AAGf;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;8CAAA;sBAzDJ,WAAW;IAHvB,IAAA,gBAAM,EAAC,cAAc,CAAC;IACtB,IAAA,eAAK,EAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAC3B,IAAA,eAAK,EAAC,CAAC,QAAQ,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC;GAC9B,WAAW,CA0DvB","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\pwa\\entities\\offline-sync.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn, Index } from \"typeorm\"\r\n\r\nexport type SyncStatus = \"pending\" | \"processing\" | \"completed\" | \"failed\" | \"cancelled\"\r\nexport type SyncOperation = \"create\" | \"update\" | \"delete\" | \"batch\"\r\n\r\n@Entity(\"offline_sync\")\r\n@Index([\"userId\", \"status\"])\r\n@Index([\"status\", \"priority\", \"createdAt\"])\r\nexport class OfflineSync {\r\n  @PrimaryGeneratedColumn(\"uuid\")\r\n  id: string\r\n\r\n  @Column({ type: \"varchar\", length: 255, nullable: true })\r\n  @Index()\r\n  userId?: string\r\n\r\n  @Column({ type: \"varchar\", length: 100 })\r\n  operation: SyncOperation\r\n\r\n  @Column({ type: \"varchar\", length: 100 })\r\n  entityType: string\r\n\r\n  @Column({ type: \"varchar\", length: 255, nullable: true })\r\n  entityId?: string\r\n\r\n  @Column({ type: \"json\" })\r\n  data: any\r\n\r\n  @Column({ type: \"json\", nullable: true })\r\n  metadata?: {\r\n    clientTimestamp: Date\r\n    deviceId?: string\r\n    connectionType?: string\r\n    retryCount?: number\r\n  }\r\n\r\n  @Column({ type: \"varchar\", length: 50, default: \"pending\" })\r\n  @Index()\r\n  status: SyncStatus\r\n\r\n  @Column({ type: \"integer\", default: 5 })\r\n  priority: number\r\n\r\n  @Column({ type: \"text\", nullable: true })\r\n  errorMessage?: string\r\n\r\n  @Column({ type: \"json\", nullable: true })\r\n  result?: any\r\n\r\n  @Column({ type: \"timestamp\", nullable: true })\r\n  processedAt?: Date\r\n\r\n  @Column({ type: \"integer\", default: 0 })\r\n  retryCount: number\r\n\r\n  @Column({ type: \"integer\", default: 3 })\r\n  maxRetries: number\r\n\r\n  @Column({ type: \"timestamp\", nullable: true })\r\n  nextRetryAt?: Date\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date\r\n\r\n  @UpdateDateColumn()\r\n  updatedAt: Date\r\n}\r\n"],"version":3}