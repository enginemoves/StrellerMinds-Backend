{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\auth\\entities\\auth-token.entity.ts","mappings":";;;;;;;;;;;;;AAAA,kEAAwD;AACxD,qCAOiB;AAGV,IAAM,SAAS,GAAf,MAAM,SAAS;CAgCrB,CAAA;AAhCY,8BAAS;AAEpB;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;qCACpB;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;wCACV;AAGd;IADC,IAAA,gBAAM,GAAE;kDACE,IAAI,oBAAJ,IAAI;4CAAC;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;4CACR;AAGnB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACR;AAGnB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACT;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;;0CACO;AAGpC;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;4CAAC;AAQhB;IALC,IAAA,eAAK,GAAE;IACP,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;QAChD,QAAQ,EAAE,KAAK;QACf,QAAQ,EAAE,SAAS;KACpB,CAAC;kDACI,kBAAI,oBAAJ,kBAAI;uCAAC;oBA/BA,SAAS;IADrB,IAAA,gBAAM,EAAC,aAAa,CAAC;GACT,SAAS,CAgCrB","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\auth\\entities\\auth-token.entity.ts"],"sourcesContent":["import { User } from '../../users/entities/user.entity';\r\nimport {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  ManyToOne,\r\n  Index,\r\n  CreateDateColumn,\r\n} from 'typeorm';\r\n\r\n@Entity('auth_tokens')\r\nexport class AuthToken {\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  @Column({ length: 500 })\r\n  token: string;\r\n\r\n  @Column()\r\n  expiresAt: Date;\r\n\r\n  @Column({ default: false })\r\n  isRevoked: boolean;\r\n\r\n  @Column({ nullable: true })\r\n  deviceInfo: string;\r\n\r\n  @Column({ nullable: true })\r\n  ipAddress: string;\r\n\r\n  @Column({ default: 'login' })\r\n  purpose: 'login' | 'reset_password';\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  // Many-to-One relationship with the User entity\r\n  @Index()\r\n  @ManyToOne(() => User, (user) => user.authTokens, {\r\n    nullable: false,\r\n    onDelete: 'CASCADE',\r\n  })\r\n  user: User;\r\n}\r\n"],"version":3}