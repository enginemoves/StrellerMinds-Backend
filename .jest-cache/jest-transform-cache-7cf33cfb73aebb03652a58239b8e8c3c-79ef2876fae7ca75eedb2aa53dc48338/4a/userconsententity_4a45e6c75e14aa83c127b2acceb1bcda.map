{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\gdpr\\entities\\user-consent.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAMiB;AACjB,6CAAmE;AAEnE;;GAEG;AACH,IAAY,WAKX;AALD,WAAY,WAAW;IACrB,sCAAuB,CAAA;IACvB,sCAAuB,CAAA;IACvB,wCAAyB,CAAA;IACzB,sCAAuB,CAAA;AACzB,CAAC,EALW,WAAW,2BAAX,WAAW,QAKtB;AAED;;GAEG;AACH,IAAY,aAIX;AAJD,WAAY,aAAa;IACvB,oCAAmB,CAAA;IACnB,kCAAiB,CAAA;IACjB,wCAAuB,CAAA;AACzB,CAAC,EAJW,aAAa,6BAAb,aAAa,QAIxB;AAED;;GAEG;AAEI,IAAM,WAAW,GAAjB,MAAM,WAAW;CAyEvB,CAAA;AAzEY,kCAAW;AAItB;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IACrE,IAAA,gCAAsB,EAAC,MAAM,CAAC;;uCACpB;AAKX;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC;IAC7D,IAAA,gBAAM,EAAC,MAAM,CAAC;;2CACA;AAYf;IATC,IAAA,qBAAW,EAAC;QACX,IAAI,EAAE,WAAW;QACjB,WAAW,EAAE,cAAc;QAC3B,OAAO,EAAE,WAAW,CAAC,SAAS;KAC/B,CAAC;IACD,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,WAAW;KAClB,CAAC;;gDACuB;AAYzB;IATC,IAAA,qBAAW,EAAC;QACX,IAAI,EAAE,aAAa;QACnB,WAAW,EAAE,gBAAgB;QAC7B,OAAO,EAAE,aAAa,CAAC,OAAO;KAC/B,CAAC;IACD,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,aAAa;KACpB,CAAC;;2CACoB;AAKtB;IAFC,IAAA,6BAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1D,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACzB;AAKhB;IAFC,IAAA,6BAAmB,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC/D,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;+CACtB;AASnB;IANC,IAAA,6BAAmB,EAAC;QACnB,WAAW,EAAE,yBAAyB;QACtC,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,WAAW;KACpB,CAAC;IACD,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACnC,IAAI,oBAAJ,IAAI;8CAAC;AAUhB;IAPC,IAAA,qBAAW,EAAC;QACX,WAAW,EAAE,wCAAwC;QACrD,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,sBAAsB;KAChC,CAAC;IACD,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;8CAAC;AAUhB;IAPC,IAAA,qBAAW,EAAC;QACX,WAAW,EAAE,6CAA6C;QAC1D,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,sBAAsB;KAChC,CAAC;IACD,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;8CAAC;sBAxEL,WAAW;IADvB,IAAA,gBAAM,EAAC,eAAe,CAAC;GACX,WAAW,CAyEvB","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\gdpr\\entities\\user-consent.entity.ts"],"sourcesContent":["import {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  CreateDateColumn,\r\n  UpdateDateColumn,\r\n} from 'typeorm';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\n/**\r\n * Enum for consent types.\r\n */\r\nexport enum ConsentType {\r\n  MARKETING = 'marketing',\r\n  ANALYTICS = 'analytics',\r\n  FUNCTIONAL = 'functional',\r\n  NECESSARY = 'necessary',\r\n}\r\n\r\n/**\r\n * Enum for consent status.\r\n */\r\nexport enum ConsentStatus {\r\n  GRANTED = 'granted',\r\n  DENIED = 'denied',\r\n  WITHDRAWN = 'withdrawn',\r\n}\r\n\r\n/**\r\n * Entity representing a user's consent record.\r\n */\r\n@Entity('user_consents')\r\nexport class UserConsent {\r\n  /** Consent record ID */\r\n  @ApiProperty({ description: 'Consent record ID', example: 'uuid-v4' })\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  /** User ID */\r\n  @ApiProperty({ description: 'User ID', example: 'uuid-user' })\r\n  @Column('uuid')\r\n  userId: string;\r\n\r\n  /** Consent type */\r\n  @ApiProperty({\r\n    enum: ConsentType,\r\n    description: 'Consent type',\r\n    example: ConsentType.MARKETING,\r\n  })\r\n  @Column({\r\n    type: 'enum',\r\n    enum: ConsentType,\r\n  })\r\n  consentType: ConsentType;\r\n\r\n  /** Consent status */\r\n  @ApiProperty({\r\n    enum: ConsentStatus,\r\n    description: 'Consent status',\r\n    example: ConsentStatus.GRANTED,\r\n  })\r\n  @Column({\r\n    type: 'enum',\r\n    enum: ConsentStatus,\r\n  })\r\n  status: ConsentStatus;\r\n\r\n  /** Purpose of consent (optional) */\r\n  @ApiPropertyOptional({ description: 'Purpose of consent' })\r\n  @Column({ type: 'text', nullable: true })\r\n  purpose: string;\r\n\r\n  /** Legal basis for consent (optional) */\r\n  @ApiPropertyOptional({ description: 'Legal basis for consent' })\r\n  @Column({ type: 'text', nullable: true })\r\n  legalBasis: string;\r\n\r\n  /** Expiry date for consent (optional) */\r\n  @ApiPropertyOptional({\r\n    description: 'Expiry date for consent',\r\n    type: String,\r\n    format: 'date-time',\r\n  })\r\n  @Column({ type: 'timestamp', nullable: true })\r\n  expiresAt: Date;\r\n\r\n  /** Date/time when the consent was created */\r\n  @ApiProperty({\r\n    description: 'Date/time when the consent was created',\r\n    type: String,\r\n    format: 'date-time',\r\n    example: '2025-06-29T12:00:00Z',\r\n  })\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  /** Date/time when the consent was last updated */\r\n  @ApiProperty({\r\n    description: 'Date/time when the consent was last updated',\r\n    type: String,\r\n    format: 'date-time',\r\n    example: '2025-06-29T12:10:00Z',\r\n  })\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n}\r\n"],"version":3}