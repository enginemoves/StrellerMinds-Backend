{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\payment\\entities\\invoice.entity.ts","mappings":"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","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\payment\\entities\\invoice.entity.ts"],"sourcesContent":["import {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  CreateDateColumn,\r\n  UpdateDateColumn,\r\n  ManyToOne,\r\n  JoinColumn,\r\n} from 'typeorm';\r\nimport { PaymentEntity } from './payment.entity';\r\n\r\nexport enum InvoiceStatus {\r\n  DRAFT = 'draft',\r\n  OPEN = 'open',\r\n  PAID = 'paid',\r\n  VOID = 'void',\r\n  UNCOLLECTIBLE = 'uncollectible',\r\n}\r\n\r\nexport enum InvoiceType {\r\n  INVOICE = 'invoice',\r\n  CREDIT_NOTE = 'credit_note',\r\n  DEBIT_NOTE = 'debit_note',\r\n}\r\n\r\n@Entity('invoices')\r\nexport class InvoiceEntity {\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  @Column()\r\n  paymentId: string;\r\n\r\n  @Column()\r\n  stripeInvoiceId: string;\r\n\r\n  @Column()\r\n  invoiceNumber: string;\r\n\r\n  @Column({\r\n    type: 'enum',\r\n    enum: InvoiceStatus,\r\n    default: InvoiceStatus.DRAFT,\r\n  })\r\n  status: InvoiceStatus;\r\n\r\n  @Column({\r\n    type: 'enum',\r\n    enum: InvoiceType,\r\n    default: InvoiceType.INVOICE,\r\n  })\r\n  type: InvoiceType;\r\n\r\n  @Column()\r\n  amount: number; // Amount in cents\r\n\r\n  @Column()\r\n  currency: string;\r\n\r\n  @Column({ nullable: true })\r\n  taxAmount: number;\r\n\r\n  @Column({ nullable: true })\r\n  discountAmount: number;\r\n\r\n  @Column({ nullable: true })\r\n  subtotal: number;\r\n\r\n  @Column({ nullable: true })\r\n  total: number;\r\n\r\n  @Column({ nullable: true })\r\n  description: string;\r\n\r\n  @Column({ type: 'jsonb', nullable: true })\r\n  lineItems: Array<{\r\n    description: string;\r\n    quantity: number;\r\n    unitAmount: number;\r\n    totalAmount: number;\r\n  }>;\r\n\r\n  @Column({ nullable: true })\r\n  customerEmail: string;\r\n\r\n  @Column({ nullable: true })\r\n  customerName: string;\r\n\r\n  @Column({ nullable: true })\r\n  billingAddress: string;\r\n\r\n  @Column({ nullable: true })\r\n  shippingAddress: string;\r\n\r\n  @Column({ nullable: true })\r\n  dueDate: Date;\r\n\r\n  @Column({ nullable: true })\r\n  paidAt: Date;\r\n\r\n  @Column({ nullable: true })\r\n  voidedAt: Date;\r\n\r\n  @Column({ nullable: true })\r\n  voidReason: string;\r\n\r\n  @Column({ type: 'jsonb', nullable: true })\r\n  metadata: Record<string, any>;\r\n\r\n  @Column({ nullable: true })\r\n  notes: string;\r\n\r\n  @Column({ nullable: true })\r\n  terms: string;\r\n\r\n  @Column({ nullable: true })\r\n  footer: string;\r\n\r\n  @Column({ nullable: true })\r\n  pdfUrl: string;\r\n\r\n  @Column({ nullable: true })\r\n  hostedInvoiceUrl: string;\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n\r\n  // Relations\r\n  @ManyToOne(() => PaymentEntity, { onDelete: 'CASCADE' })\r\n  @JoinColumn({ name: 'paymentId' })\r\n  payment: PaymentEntity;\r\n} "],"version":3}