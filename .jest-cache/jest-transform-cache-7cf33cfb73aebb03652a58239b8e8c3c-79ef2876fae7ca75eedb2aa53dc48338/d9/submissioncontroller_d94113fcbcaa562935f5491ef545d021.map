{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\submission\\submission.controller.ts","mappings":";;;;;;;;;;;;;;;;AAAA,0CAA0C;AAC1C,2CAE0B;AACxB,+DAA2D;AAC3D,mCAAqC;AACrC,+BAA+B;AACjC,sEAAkE;AAClE,sEAAkE;AAGzD,IAAM,oBAAoB,GAA1B,MAAM,oBAAoB;IAC/B,YAA6B,iBAAoC;QAApC,sBAAiB,GAAjB,iBAAiB,CAAmB;IAAG,CAAC;IAWrE,MAAM,CACI,SAA8B,EACtB,IAAyB;QAEzC,OAAO,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;IAGD,OAAO,CAAc,EAAU;QAC7B,OAAO,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAC5C,CAAC;IAID,MAAM,CACS,EAAU,EACf,SAAuC,EAC/B,IAA0B;QAE1C,OAAO,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IAC5D,CAAC;CACF,CAAA;AAjCY,oDAAoB;AAY/B;IATC,IAAA,aAAI,GAAE;IACN,IAAA,wBAAe,EAAC,IAAA,kCAAe,EAAC,MAAM,EAAE;QACvC,OAAO,EAAE,IAAA,oBAAW,EAAC;YACnB,WAAW,EAAE,WAAW;YACxB,QAAQ,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE;gBACxB,EAAE,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAA,cAAO,EAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YACzD,CAAC;SACF,CAAC;KACH,CAAC,CAAC;IAEA,WAAA,IAAA,aAAI,GAAE,CAAA;IACN,WAAA,IAAA,qBAAY,GAAE,CAAA;;yDADI,0CAAmB,oBAAnB,0CAAmB,oDAChB,OAAO,0BAAP,OAAO,CAAC,MAAM,mBAAC,IAAI;;kDAG1C;AAGD;IADC,IAAA,YAAG,EAAC,KAAK,CAAC;IACF,WAAA,IAAA,cAAK,EAAC,IAAI,CAAC,CAAA;;;;mDAEnB;AAID;IAFC,IAAA,cAAK,EAAC,KAAK,CAAC;IACZ,IAAA,wBAAe,EAAC,IAAA,kCAAe,EAAC,MAAM,CAAC,CAAC;IAEtC,WAAA,IAAA,cAAK,EAAC,IAAI,CAAC,CAAA;IACX,WAAA,IAAA,aAAI,GAAE,CAAA;IACN,WAAA,IAAA,qBAAY,GAAE,CAAA;;iEADI,OAAO,oBAAP,OAAO,oDACH,OAAO,0BAAP,OAAO,CAAC,MAAM,mBAAC,IAAI;;kDAG3C;+BAhCU,oBAAoB;IADhC,IAAA,mBAAU,EAAC,aAAa,CAAC;yDAEwB,sCAAiB,oBAAjB,sCAAiB;GADtD,oBAAoB,CAiChC","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\submission\\submission.controller.ts"],"sourcesContent":["// src/submission/submission.controller.ts\r\nimport {\r\n    Controller, Post, Body, Get, Param, UploadedFile, UseInterceptors, Patch, UseGuards\r\n  } from '@nestjs/common';\r\n  import { FileInterceptor } from '@nestjs/platform-express';\r\n  import { diskStorage } from 'multer';\r\n  import { extname } from 'path';\r\nimport { SubmissionService } from './provider/submission.service';\r\nimport { CreateSubmissionDto } from './dtos/createSubmission.dto';\r\n  \r\n  @Controller('submissions')\r\n  export class SubmissionController {\r\n    constructor(private readonly submissionService: SubmissionService) {}\r\n  \r\n    @Post()\r\n    @UseInterceptors(FileInterceptor('file', {\r\n      storage: diskStorage({\r\n        destination: './uploads',\r\n        filename: (_, file, cb) => {\r\n          cb(null, `${Date.now()}${extname(file.originalname)}`);\r\n        },\r\n      }),\r\n    }))\r\n    create(\r\n      @Body() createDto: CreateSubmissionDto,\r\n      @UploadedFile() file: Express.Multer.File,\r\n    ) {\r\n      return this.submissionService.create(createDto, file);\r\n    }\r\n  \r\n    @Get(':id')\r\n    findOne(@Param('id') id: string) {\r\n      return this.submissionService.findOne(id);\r\n    }\r\n  \r\n    @Patch(':id')\r\n    @UseInterceptors(FileInterceptor('file'))\r\n    update(\r\n      @Param('id') id: string,\r\n      @Body() updateDto: Partial<CreateSubmissionDto>,\r\n      @UploadedFile() file?: Express.Multer.File,\r\n    ) {\r\n      return this.submissionService.update(id, updateDto, file);\r\n    }\r\n  }  "],"version":3}