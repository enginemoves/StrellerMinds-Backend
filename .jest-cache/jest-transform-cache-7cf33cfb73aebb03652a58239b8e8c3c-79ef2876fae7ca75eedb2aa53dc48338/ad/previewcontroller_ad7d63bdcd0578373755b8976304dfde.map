{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\email\\admin\\preview.controller.ts","mappings":";;;;;;;;;;;;;;;;AAAA,2CAA2E;AAC3E,kDAAsD;AAG/C,IAAM,sBAAsB,GAA5B,MAAM,sBAAsB;IACjC,YAA6B,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAG,CAAC;IAG7D,AAAN,KAAK,CAAC,eAAe,CACI,YAAoB,EAClC,OAA4B;QAErC,OAAO,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IACtE,CAAC;IAGK,AAAN,KAAK,CAAC,gBAAgB,CACZ,IAA4D;QAEpE,OAAO,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAC3C,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,OAAO,CACb,CAAC;IACJ,CAAC;IAGK,AAAN,KAAK,CAAC,YAAY,CAEhB,IAIC;QAED,OAAO,IAAI,CAAC,gBAAgB,CAAC,YAAY,CACvC,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,OAAO,CACb,CAAC;IACJ,CAAC;CACF,CAAA;AApCY,wDAAsB;AAI3B;IADL,IAAA,YAAG,EAAC,eAAe,CAAC;IAElB,WAAA,IAAA,cAAK,EAAC,cAAc,CAAC,CAAA;IACrB,WAAA,IAAA,cAAK,GAAE,CAAA;;iEAAU,MAAM,oBAAN,MAAM;;6DAGzB;AAGK;IADL,IAAA,aAAI,EAAC,UAAU,CAAC;IAEd,WAAA,IAAA,aAAI,GAAE,CAAA;;;;8DAMR;AAGK;IADL,IAAA,aAAI,EAAC,MAAM,CAAC;IAEV,WAAA,IAAA,aAAI,GAAE,CAAA;;;;0DAYR;iCAnCU,sBAAsB;IADlC,IAAA,mBAAU,EAAC,qBAAqB,CAAC;yDAEe,4BAAgB,oBAAhB,4BAAgB;GADpD,sBAAsB,CAoClC","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\email\\admin\\preview.controller.ts"],"sourcesContent":["import { Controller, Get, Post, Body, Param, Query } from '@nestjs/common';\r\nimport { EmailTestService } from '../utils/test.util';\r\n\r\n@Controller('admin/email-preview')\r\nexport class EmailPreviewController {\r\n  constructor(private readonly emailTestService: EmailTestService) {}\r\n\r\n  @Get(':templateName')\r\n  async previewTemplate(\r\n    @Param('templateName') templateName: string,\r\n    @Query() context: Record<string, any>,\r\n  ) {\r\n    return this.emailTestService.generatePreview(templateName, context);\r\n  }\r\n\r\n  @Post('validate')\r\n  async validateTemplate(\r\n    @Body() body: { templateName: string; context: Record<string, any> },\r\n  ) {\r\n    return this.emailTestService.validateTemplate(\r\n      body.templateName,\r\n      body.context,\r\n    );\r\n  }\r\n\r\n  @Post('test')\r\n  async testTemplate(\r\n    @Body()\r\n    body: {\r\n      templateName: string;\r\n      email: string;\r\n      context: Record<string, any>;\r\n    },\r\n  ) {\r\n    return this.emailTestService.testTemplate(\r\n      body.templateName,\r\n      body.email,\r\n      body.context,\r\n    );\r\n  }\r\n}\r\n"],"version":3}