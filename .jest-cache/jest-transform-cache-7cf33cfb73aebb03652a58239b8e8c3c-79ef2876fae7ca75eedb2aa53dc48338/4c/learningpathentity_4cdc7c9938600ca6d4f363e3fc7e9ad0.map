{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\recommendation\\entities\\learning-path.entity.ts","mappings":"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","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\recommendation\\entities\\learning-path.entity.ts"],"sourcesContent":["import {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  ManyToOne,\r\n  OneToMany,\r\n  CreateDateColumn,\r\n  UpdateDateColumn,\r\n  Index,\r\n  JoinColumn,\r\n} from 'typeorm';\r\nimport { User } from '../../users/entities/user.entity';\r\nimport { Course } from '../../courses/entities/course.entity';\r\n\r\nexport enum LearningPathStatus {\r\n  DRAFT = 'draft',\r\n  ACTIVE = 'active',\r\n  COMPLETED = 'completed',\r\n  PAUSED = 'paused',\r\n  ARCHIVED = 'archived',\r\n}\r\n\r\nexport enum LearningPathType {\r\n  SYSTEM_GENERATED = 'system_generated',\r\n  USER_CREATED = 'user_created',\r\n  CURATED = 'curated',\r\n  ADAPTIVE = 'adaptive',\r\n}\r\n\r\n@Entity('learning_paths')\r\n@Index(['userId', 'status'])\r\n@Index(['type', 'status'])\r\n@Index(['createdAt'])\r\nexport class LearningPath {\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  @Column('varchar', { length: 255 })\r\n  title: string;\r\n\r\n  @Column('text', { nullable: true })\r\n  description?: string;\r\n\r\n  @Column('uuid')\r\n  @Index()\r\n  userId: string;\r\n\r\n  @ManyToOne(() => User, { onDelete: 'CASCADE' })\r\n  @JoinColumn({ name: 'userId' })\r\n  user: User;\r\n\r\n  @Column({\r\n    type: 'enum',\r\n    enum: LearningPathType,\r\n    default: LearningPathType.SYSTEM_GENERATED,\r\n  })\r\n  type: LearningPathType;\r\n\r\n  @Column({\r\n    type: 'enum',\r\n    enum: LearningPathStatus,\r\n    default: LearningPathStatus.DRAFT,\r\n  })\r\n  status: LearningPathStatus;\r\n\r\n  @OneToMany(() => LearningPathStep, (step) => step.learningPath, {\r\n    cascade: true,\r\n    eager: true,\r\n  })\r\n  steps: LearningPathStep[];\r\n\r\n  @Column('simple-array', { nullable: true })\r\n  tags?: string[];\r\n\r\n  @Column('simple-array', { nullable: true })\r\n  skills?: string[];\r\n\r\n  @Column('varchar', { length: 50, nullable: true })\r\n  difficulty?: string;\r\n\r\n  @Column('int', { nullable: true })\r\n  estimatedDurationHours?: number;\r\n\r\n  @Column('decimal', { precision: 3, scale: 2, default: 0.0 })\r\n  progress: number;\r\n\r\n  @Column('jsonb', { nullable: true })\r\n  metadata?: {\r\n    algorithmVersion?: string;\r\n    generationReason?: string;\r\n    adaptiveParameters?: Record<string, any>;\r\n    userPreferences?: Record<string, any>;\r\n    skillGaps?: string[];\r\n    learningObjectives?: string[];\r\n  };\r\n\r\n  @Column('timestamp', { nullable: true })\r\n  startedAt?: Date;\r\n\r\n  @Column('timestamp', { nullable: true })\r\n  completedAt?: Date;\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n\r\n  // Virtual properties\r\n  get isCompleted(): boolean {\r\n    return this.status === LearningPathStatus.COMPLETED;\r\n  }\r\n\r\n  get isActive(): boolean {\r\n    return this.status === LearningPathStatus.ACTIVE;\r\n  }\r\n\r\n  get completedSteps(): number {\r\n    return this.steps?.filter((step) => step.isCompleted).length || 0;\r\n  }\r\n\r\n  get totalSteps(): number {\r\n    return this.steps?.length || 0;\r\n  }\r\n\r\n  get progressPercentage(): number {\r\n    if (this.totalSteps === 0) return 0;\r\n    return Math.round((this.completedSteps / this.totalSteps) * 100);\r\n  }\r\n}\r\n\r\n@Entity('learning_path_steps')\r\n@Index(['learningPathId', 'order'])\r\n@Index(['courseId'])\r\nexport class LearningPathStep {\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  @Column('uuid')\r\n  learningPathId: string;\r\n\r\n  @ManyToOne(() => LearningPath, (path) => path.steps, { onDelete: 'CASCADE' })\r\n  @JoinColumn({ name: 'learningPathId' })\r\n  learningPath: LearningPath;\r\n\r\n  @Column('uuid', { nullable: true })\r\n  courseId?: string;\r\n\r\n  @ManyToOne(() => Course, { nullable: true, onDelete: 'CASCADE' })\r\n  @JoinColumn({ name: 'courseId' })\r\n  course?: Course;\r\n\r\n  @Column('varchar', { length: 255 })\r\n  title: string;\r\n\r\n  @Column('text', { nullable: true })\r\n  description?: string;\r\n\r\n  @Column('int')\r\n  order: number;\r\n\r\n  @Column('boolean', { default: false })\r\n  isCompleted: boolean;\r\n\r\n  @Column('boolean', { default: false })\r\n  isOptional: boolean;\r\n\r\n  @Column('boolean', { default: false })\r\n  isUnlocked: boolean;\r\n\r\n  @Column('simple-array', { nullable: true })\r\n  prerequisites?: string[];\r\n\r\n  @Column('int', { nullable: true })\r\n  estimatedDurationMinutes?: number;\r\n\r\n  @Column('jsonb', { nullable: true })\r\n  metadata?: {\r\n    difficulty?: string;\r\n    skills?: string[];\r\n    learningObjectives?: string[];\r\n    resources?: Array<{\r\n      type: string;\r\n      url: string;\r\n      title: string;\r\n    }>;\r\n  };\r\n\r\n  @Column('timestamp', { nullable: true })\r\n  startedAt?: Date;\r\n\r\n  @Column('timestamp', { nullable: true })\r\n  completedAt?: Date;\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n}\r\n"],"version":3}