{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\gdpr\\entities\\data-processing-log.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAKiB;AACjB,6CAAmE;AAEnE;;GAEG;AACH,IAAY,kBAMX;AAND,WAAY,kBAAkB;IAC5B,iDAA2B,CAAA;IAC3B,qDAA+B,CAAA;IAC/B,iDAA2B,CAAA;IAC3B,iDAA2B,CAAA;IAC3B,uDAAiC,CAAA;AACnC,CAAC,EANW,kBAAkB,kCAAlB,kBAAkB,QAM7B;AAED;;GAEG;AAEI,IAAM,iBAAiB,GAAvB,MAAM,iBAAiB;CA8D7B,CAAA;AA9DY,8CAAiB;AAI5B;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,cAAc,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAChE,IAAA,gCAAsB,EAAC,MAAM,CAAC;;6CACpB;AAKX;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC;IAC7D,IAAA,gBAAM,EAAC,MAAM,CAAC;;iDACA;AAYf;IATC,IAAA,qBAAW,EAAC;QACX,IAAI,EAAE,kBAAkB;QACxB,WAAW,EAAE,qBAAqB;QAClC,OAAO,EAAE,kBAAkB,CAAC,WAAW;KACxC,CAAC;IACD,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,kBAAkB;KACzB,CAAC;;mDAC2B;AAQ7B;IALC,IAAA,qBAAW,EAAC;QACX,WAAW,EAAE,6BAA6B;QAC1C,OAAO,EAAE,oBAAoB;KAC9B,CAAC;IACD,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;sDACL;AASpB;IANC,IAAA,6BAAmB,EAAC;QACnB,WAAW,EAAE,qBAAqB;QAClC,IAAI,EAAE,QAAQ;QACd,OAAO,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE;KAChC,CAAC;IACD,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDAC/B,MAAM,oBAAN,MAAM;mDAAc;AAK9B;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,YAAY,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC;IAChE,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;;oDACL;AAQlB;IALC,IAAA,6BAAmB,EAAC;QACnB,WAAW,EAAE,YAAY;QACzB,OAAO,EAAE,aAAa;KACvB,CAAC;IACD,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oDACvB;AAUlB;IAPC,IAAA,qBAAW,EAAC;QACX,WAAW,EAAE,oCAAoC;QACjD,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,sBAAsB;KAChC,CAAC;IACD,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;oDAAC;4BA7DL,iBAAiB;IAD7B,IAAA,gBAAM,EAAC,sBAAsB,CAAC;GAClB,iBAAiB,CA8D7B","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\gdpr\\entities\\data-processing-log.entity.ts"],"sourcesContent":["import {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  CreateDateColumn,\r\n} from 'typeorm';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\n/**\r\n * Enum for processing activities.\r\n */\r\nexport enum ProcessingActivity {\r\n  DATA_EXPORT = 'data_export',\r\n  DATA_DELETION = 'data_deletion',\r\n  DATA_ACCESS = 'data_access',\r\n  DATA_UPDATE = 'data_update',\r\n  CONSENT_UPDATE = 'consent_update',\r\n}\r\n\r\n/**\r\n * Entity representing a data processing log entry.\r\n */\r\n@Entity('data_processing_logs')\r\nexport class DataProcessingLog {\r\n  /** Log entry ID */\r\n  @ApiProperty({ description: 'Log entry ID', example: 'uuid-v4' })\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  /** User ID */\r\n  @ApiProperty({ description: 'User ID', example: 'uuid-user' })\r\n  @Column('uuid')\r\n  userId: string;\r\n\r\n  /** Processing activity */\r\n  @ApiProperty({\r\n    enum: ProcessingActivity,\r\n    description: 'Processing activity',\r\n    example: ProcessingActivity.DATA_EXPORT,\r\n  })\r\n  @Column({\r\n    type: 'enum',\r\n    enum: ProcessingActivity,\r\n  })\r\n  activity: ProcessingActivity;\r\n\r\n  /** Description of the activity */\r\n  @ApiProperty({\r\n    description: 'Description of the activity',\r\n    example: 'Exported user data',\r\n  })\r\n  @Column({ type: 'text' })\r\n  description: string;\r\n\r\n  /** Additional metadata (optional) */\r\n  @ApiPropertyOptional({\r\n    description: 'Additional metadata',\r\n    type: 'object',\r\n    example: { exportId: 'abc123' },\r\n  })\r\n  @Column({ type: 'json', nullable: true })\r\n  metadata: Record<string, any>;\r\n\r\n  /** IP address */\r\n  @ApiProperty({ description: 'IP address', example: '127.0.0.1' })\r\n  @Column({ length: 45 })\r\n  ipAddress: string;\r\n\r\n  /** User agent (optional) */\r\n  @ApiPropertyOptional({\r\n    description: 'User agent',\r\n    example: 'Mozilla/5.0',\r\n  })\r\n  @Column({ type: 'text', nullable: true })\r\n  userAgent: string;\r\n\r\n  /** Date/time when the log was created */\r\n  @ApiProperty({\r\n    description: 'Date/time when the log was created',\r\n    type: String,\r\n    format: 'date-time',\r\n    example: '2025-06-29T12:00:00Z',\r\n  })\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n}\r\n"],"version":3}