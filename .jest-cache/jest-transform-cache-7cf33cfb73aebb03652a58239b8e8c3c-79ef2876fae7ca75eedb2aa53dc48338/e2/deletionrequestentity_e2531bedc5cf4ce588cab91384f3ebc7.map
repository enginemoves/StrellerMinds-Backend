{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\gdpr\\entities\\deletion-request.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAMiB;AACjB,6CAAmE;AAEnE;;GAEG;AACH,IAAY,cAMX;AAND,WAAY,cAAc;IACxB,qCAAmB,CAAA;IACnB,6CAA2B,CAAA;IAC3B,yCAAuB,CAAA;IACvB,mCAAiB,CAAA;IACjB,yCAAuB,CAAA;AACzB,CAAC,EANW,cAAc,8BAAd,cAAc,QAMzB;AAED;;GAEG;AAEI,IAAM,eAAe,GAArB,MAAM,eAAe;CA+E3B,CAAA;AA/EY,0CAAe;AAI1B;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IACvE,IAAA,gCAAsB,EAAC,MAAM,CAAC;;2CACpB;AAKX;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC;IAC7D,IAAA,gBAAM,EAAC,MAAM,CAAC;;+CACA;AAaf;IAVC,IAAA,qBAAW,EAAC;QACX,IAAI,EAAE,cAAc;QACpB,WAAW,EAAE,iBAAiB;QAC9B,OAAO,EAAE,cAAc,CAAC,OAAO;KAChC,CAAC;IACD,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,cAAc;QACpB,OAAO,EAAE,cAAc,CAAC,OAAO;KAChC,CAAC;;+CACqB;AAKvB;IAFC,IAAA,6BAAmB,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,CAAC;IAC3D,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;+CAC1B;AAKf;IAFC,IAAA,6BAAmB,EAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;IAC5E,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;kDACrB;AASpB;IANC,IAAA,6BAAmB,EAAC;QACnB,WAAW,EAAE,yBAAyB;QACtC,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,WAAW;KACpB,CAAC;IACD,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACjC,IAAI,oBAAJ,IAAI;oDAAC;AASlB;IANC,IAAA,6BAAmB,EAAC;QACnB,WAAW,EAAE,uCAAuC;QACpD,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,WAAW;KACpB,CAAC;IACD,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACjC,IAAI,oBAAJ,IAAI;oDAAC;AAQlB;IALC,IAAA,6BAAmB,EAAC;QACnB,WAAW,EAAE,OAAO;QACpB,OAAO,EAAE,mCAAmC;KAC7C,CAAC;IACD,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;8CAC3B;AAUd;IAPC,IAAA,qBAAW,EAAC;QACX,WAAW,EAAE,wCAAwC;QACrD,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,sBAAsB;KAChC,CAAC;IACD,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;kDAAC;AAUhB;IAPC,IAAA,qBAAW,EAAC;QACX,WAAW,EAAE,6CAA6C;QAC1D,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,sBAAsB;KAChC,CAAC;IACD,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;kDAAC;0BA9EL,eAAe;IAD3B,IAAA,gBAAM,EAAC,mBAAmB,CAAC;GACf,eAAe,CA+E3B","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\gdpr\\entities\\deletion-request.entity.ts"],"sourcesContent":["import {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  CreateDateColumn,\r\n  UpdateDateColumn,\r\n} from 'typeorm';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\n/**\r\n * Enum for deletion request status.\r\n */\r\nexport enum DeletionStatus {\r\n  PENDING = 'pending',\r\n  IN_PROGRESS = 'in_progress',\r\n  COMPLETED = 'completed',\r\n  FAILED = 'failed',\r\n  CANCELLED = 'cancelled',\r\n}\r\n\r\n/**\r\n * Entity representing a deletion request.\r\n */\r\n@Entity('deletion_requests')\r\nexport class DeletionRequest {\r\n  /** Deletion request ID */\r\n  @ApiProperty({ description: 'Deletion request ID', example: 'uuid-v4' })\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  /** User ID */\r\n  @ApiProperty({ description: 'User ID', example: 'uuid-user' })\r\n  @Column('uuid')\r\n  userId: string;\r\n\r\n  /** Deletion status */\r\n  @ApiProperty({\r\n    enum: DeletionStatus,\r\n    description: 'Deletion status',\r\n    example: DeletionStatus.PENDING,\r\n  })\r\n  @Column({\r\n    type: 'enum',\r\n    enum: DeletionStatus,\r\n    default: DeletionStatus.PENDING,\r\n  })\r\n  status: DeletionStatus;\r\n\r\n  /** Reason for deletion (optional) */\r\n  @ApiPropertyOptional({ description: 'Reason for deletion' })\r\n  @Column({ type: 'text', nullable: true })\r\n  reason: string;\r\n\r\n  /** Data types to delete (optional) */\r\n  @ApiPropertyOptional({ description: 'Data types to delete', type: [String] })\r\n  @Column({ type: 'json', nullable: true })\r\n  dataTypes: string[];\r\n\r\n  /** Scheduled deletion date (optional) */\r\n  @ApiPropertyOptional({\r\n    description: 'Scheduled deletion date',\r\n    type: String,\r\n    format: 'date-time',\r\n  })\r\n  @Column({ type: 'timestamp', nullable: true })\r\n  scheduledAt: Date;\r\n\r\n  /** Date/time when deletion was completed (optional) */\r\n  @ApiPropertyOptional({\r\n    description: 'Date/time when deletion was completed',\r\n    type: String,\r\n    format: 'date-time',\r\n  })\r\n  @Column({ type: 'timestamp', nullable: true })\r\n  completedAt: Date;\r\n\r\n  /** Notes (optional) */\r\n  @ApiPropertyOptional({\r\n    description: 'Notes',\r\n    example: 'User requested expedited deletion',\r\n  })\r\n  @Column({ type: 'text', nullable: true })\r\n  notes: string;\r\n\r\n  /** Date/time when the request was created */\r\n  @ApiProperty({\r\n    description: 'Date/time when the request was created',\r\n    type: String,\r\n    format: 'date-time',\r\n    example: '2025-06-29T12:00:00Z',\r\n  })\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  /** Date/time when the request was last updated */\r\n  @ApiProperty({\r\n    description: 'Date/time when the request was last updated',\r\n    type: String,\r\n    format: 'date-time',\r\n    example: '2025-06-29T12:10:00Z',\r\n  })\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n}\r\n"],"version":3}