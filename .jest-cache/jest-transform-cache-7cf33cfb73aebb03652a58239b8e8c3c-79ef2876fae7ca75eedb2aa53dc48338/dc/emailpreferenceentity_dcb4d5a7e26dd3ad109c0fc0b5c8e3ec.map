{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\email\\entities\\email-preference.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAAoH;AACpH,6CAAmE;AAEnE;;GAEG;AACH,IAAY,SAMX;AAND,WAAY,SAAS;IACnB,8CAAiC,CAAA;IACjC,oCAAuB,CAAA;IACvB,8CAAiC,CAAA;IACjC,wDAA2C,CAAA;IAC3C,0DAA6C,CAAA;AAC/C,CAAC,EANW,SAAS,yBAAT,SAAS,QAMpB;AAED;;GAEG;AAGI,IAAM,eAAe,GAArB,MAAM,eAAe;CAoC3B,CAAA;AApCY,0CAAe;AAI1B;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,oCAAoC,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IACtF,IAAA,gCAAsB,EAAC,MAAM,CAAC;;2CACpB;AAMX;IAHC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC/E,IAAA,gBAAM,GAAE;IACR,IAAA,eAAK,GAAE;;8CACM;AAUd;IAPC,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,CAAC,cAAc,EAAE,CAAC;IAC9F,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,SAAS;QACf,OAAO,EAAE,SAAS,CAAC,cAAc;KAClC,CAAC;IACD,IAAA,eAAK,GAAE;;kDACa;AAKrB;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,gCAAgC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC9E,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;+CACX;AAKhB;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,2CAA2C,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IAC7I,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;kDAAC;AAKhB;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,gDAAgD,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IAClJ,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;kDAAC;0BAnCL,eAAe;IAF3B,IAAA,gBAAM,EAAC,mBAAmB,CAAC;IAC3B,IAAA,gBAAM,EAAC,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;GAClB,eAAe,CAoC3B","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\email\\entities\\email-preference.entity.ts"],"sourcesContent":["import { Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, Index, Unique } from \"typeorm\";\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\n/**\r\n * Enum for email preference types.\r\n */\r\nexport enum EmailType {\r\n  AUTHENTICATION = \"authentication\",\r\n  MARKETING = \"marketing\",\r\n  COURSE_UPDATES = \"course_updates\",\r\n  FORUM_NOTIFICATIONS = \"forum_notifications\",\r\n  SYSTEM_NOTIFICATIONS = \"system_notifications\",\r\n}\r\n\r\n/**\r\n * Entity representing a user's email preference.\r\n */\r\n@Entity(\"email_preferences\")\r\n@Unique([\"email\", \"emailType\"])\r\nexport class EmailPreference {\r\n  /** Unique ID for the email preference */\r\n  @ApiProperty({ description: 'Unique ID for the email preference', example: 'uuid-v4' })\r\n  @PrimaryGeneratedColumn(\"uuid\")\r\n  id: string;\r\n\r\n  /** User email address */\r\n  @ApiProperty({ description: 'User email address', example: 'user@example.com' })\r\n  @Column()\r\n  @Index()\r\n  email: string;\r\n\r\n  /** Email type */\r\n  @ApiProperty({ enum: EmailType, description: 'Email type', default: EmailType.AUTHENTICATION })\r\n  @Column({\r\n    type: \"enum\",\r\n    enum: EmailType,\r\n    default: EmailType.AUTHENTICATION,\r\n  })\r\n  @Index()\r\n  emailType: EmailType;\r\n\r\n  /** Whether the user has opted out */\r\n  @ApiProperty({ description: 'Whether the user has opted out', example: false })\r\n  @Column({ default: false })\r\n  optOut: boolean;\r\n\r\n  /** Date/time when the preference was created */\r\n  @ApiProperty({ description: 'Date/time when the preference was created', type: String, format: 'date-time', example: '2025-06-29T12:00:00Z' })\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  /** Date/time when the preference was last updated */\r\n  @ApiProperty({ description: 'Date/time when the preference was last updated', type: String, format: 'date-time', example: '2025-06-29T12:10:00Z' })\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n}\r\n\r\n"],"version":3}