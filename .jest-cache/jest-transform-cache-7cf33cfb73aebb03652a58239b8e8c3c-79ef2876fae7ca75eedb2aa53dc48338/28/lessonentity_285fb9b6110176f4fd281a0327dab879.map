{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\lesson\\entity\\lesson.entity.ts","mappings":"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","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\lesson\\entity\\lesson.entity.ts"],"sourcesContent":["/* eslint-disable prettier/prettier */\r\nimport { Course } from 'src/courses/entities/course.entity';\r\nimport { CourseModule } from '../../courses/entities/course-module.entity';\r\nimport { UserProgress } from '../../users/entities/user-progress.entity';\r\nimport {\r\n  Entity,\r\n  PrimaryGeneratedColumn,\r\n  Column,\r\n  ManyToOne,\r\n  OneToMany,\r\n  Index,\r\n  CreateDateColumn,\r\n  UpdateDateColumn,\r\n} from 'typeorm';\r\nimport { Assignment } from 'src/assignment/entities/assignment.entity';\r\nimport { LessonType } from 'src/modules/lesson/enums/lesson-type.enum';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\n\r\n/**\r\n * Entity representing a lesson within a course module.\r\n */\r\n@Entity('lessons')\r\nexport class Lesson {\r\n  /** Unique lesson ID */\r\n  @ApiProperty({ description: 'Unique lesson ID', example: 'uuid-lesson' })\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  /** Lesson title */\r\n  @ApiProperty({ description: 'Lesson title', example: 'Introduction to Algebra' })\r\n  @Column({ length: 255 })\r\n  title: string;\r\n\r\n  /** Lesson content (text, HTML, etc.) */\r\n  @ApiProperty({ description: 'Lesson content', example: '<p>Welcome to Algebra!</p>' })\r\n  @Column({ type: 'text' })\r\n  content: string;\r\n\r\n  /** Lesson type (text, video, quiz, etc.) */\r\n  @ApiProperty({ description: 'Lesson type', enum: LessonType, default: LessonType.TEXT })\r\n  @Column({\r\n    type: 'enum',\r\n    enum: LessonType,\r\n    default: LessonType.TEXT,\r\n  })\r\n  type: LessonType;\r\n\r\n  /** Video URL (if applicable) */\r\n  @ApiProperty({ description: 'Video URL', required: false })\r\n  @Column({ nullable: true })\r\n  videoUrl: string;\r\n\r\n  /** Order of the lesson within the module */\r\n  @ApiProperty({ description: 'Order of the lesson within the module', example: 1 })\r\n  @Column()\r\n  order: number;\r\n\r\n  /** Duration of the lesson in minutes */\r\n  @ApiProperty({ description: 'Duration in minutes', example: 30 })\r\n  @Column({ default: 0 })\r\n  durationInMinutes: number;\r\n\r\n  /** Date lesson was created */\r\n  @ApiProperty({ description: 'Creation date' })\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  /** Date lesson was last updated */\r\n  @ApiProperty({ description: 'Last update date' })\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n\r\n  /** Module this lesson belongs to */\r\n  @ApiProperty({ description: 'Module this lesson belongs to', type: () => CourseModule })\r\n  @ManyToOne(() => CourseModule, (module) => module.lessons, {\r\n    nullable: false,\r\n    onDelete: 'CASCADE',\r\n  })\r\n  @Index()\r\n  module: CourseModule;\r\n\r\n  // One-to-Many relationship\r\n  @OneToMany(() => UserProgress, (progress) => progress.lesson)\r\n  userProgress: Promise<UserProgress[]>;\r\n\r\n  @ManyToOne(() => Course, (course) => course.lessons, { onDelete: 'CASCADE' })\r\n  course: Course;\r\n\r\n  @OneToMany(() => Assignment, (assignment) => assignment.lesson)\r\n  assignments: Assignment[];\r\n}\r\n"],"version":3}