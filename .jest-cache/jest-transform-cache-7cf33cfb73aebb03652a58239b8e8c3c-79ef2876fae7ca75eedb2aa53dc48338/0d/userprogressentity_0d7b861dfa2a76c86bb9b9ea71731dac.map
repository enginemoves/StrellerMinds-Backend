{"file":"C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\users\\entities\\user-progress.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAAuH;AACvH,+CAAqC;AACrC,wEAA8D;AAC9D,qEAA2D;AAC3D,sFAA2E;AAC3E,6CAAmE;AAEnE;;GAEG;AAGI,IAAM,YAAY,GAAlB,MAAM,YAAY;CA0CxB,CAAA;AA1CY,oCAAY;AAGvB;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAC/D,IAAA,gCAAsB,EAAC,MAAM,CAAC;;wCACpB;AAIX;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,cAAc,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC5D,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;iDACN;AAIrB;IAFC,IAAA,qBAAW,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAClE,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;;wDACb;AAI3B;IAFC,IAAA,6BAAmB,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;IACzE,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,4BAA4B;;;8CACzD;AAId;IAFC,IAAA,6BAAmB,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IACvF,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACjC,IAAI,oBAAJ,IAAI;iDAAC;AAIlB;IAFC,IAAA,6BAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IAC3F,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDAC9B,IAAI,oBAAJ,IAAI;oDAAC;AAGrB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC;kDACzC,kBAAI,oBAAJ,kBAAI;0CAAC;AAGX;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,sBAAM,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;kDACjD,sBAAM,oBAAN,sBAAM;4CAAC;AAGf;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,mCAAY,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDAC1C,mCAAY,oBAAZ,mCAAY;4CAAC;AAGrB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,sBAAM,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,wBAAwB;;kDAC7D,sBAAM,oBAAN,sBAAM;4CAAC;AAGf;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;+CAAC;AAGhB;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;+CAAC;uBAzCL,YAAY;IAFxB,IAAA,gBAAM,EAAC,eAAe,CAAC;IACvB,IAAA,eAAK,EAAC,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,gDAAgD;GAC1F,YAAY,CA0CxB","names":[],"sources":["C:\\Users\\ojoseph\\Documents\\StrellerMinds-Backend\\src\\users\\entities\\user-progress.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, ManyToOne, Index, CreateDateColumn, UpdateDateColumn } from 'typeorm';\r\nimport { User } from './user.entity';\r\nimport { Course } from '../../courses/entities/course.entity';\r\nimport { Lesson } from '../../lesson/entity/lesson.entity';\r\nimport { CourseModule } from '../../courses/entities/course-module.entity';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\n/**\r\n * UserProgress entity representing a user's progress in a course or lesson.\r\n */\r\n@Entity('user_progress')\r\n@Index(['user', 'course', 'lesson'], { unique: true }) // Ensure unique progress per user/course/lesson\r\nexport class UserProgress {\r\n  @ApiProperty({ description: 'Progress ID', example: 'uuid-v4' })\r\n  @PrimaryGeneratedColumn('uuid')\r\n  id: string;\r\n\r\n  @ApiProperty({ description: 'Is completed', example: false })\r\n  @Column({ default: false })\r\n  isCompleted: boolean;\r\n\r\n  @ApiProperty({ description: 'Progress percentage', example: 75.5 })\r\n  @Column({ type: 'float', default: 0.0 })\r\n  progressPercentage: number;\r\n\r\n  @ApiPropertyOptional({ description: 'Flexible metadata', type: 'object' })\r\n  @Column({ type: 'jsonb', nullable: true }) // Flexible metadata storage\r\n  metadata: any;\r\n\r\n  @ApiPropertyOptional({ description: 'Date completed', example: '2024-01-01T00:00:00Z' })\r\n  @Column({ type: 'timestamp', nullable: true })\r\n  completedAt: Date;\r\n\r\n  @ApiPropertyOptional({ description: 'Date last accessed', example: '2024-01-01T00:00:00Z' })\r\n  @Column({ type: 'timestamp', nullable: true })\r\n  lastAccessedAt: Date;\r\n\r\n  @ManyToOne(() => User, (user) => user.progress)\r\n  user: User;\r\n\r\n  @ManyToOne(() => Course, (course) => course.userProgress)\r\n  course: Course;\r\n\r\n  @ManyToOne(() => CourseModule, { nullable: true })\r\n  module: CourseModule;\r\n\r\n  @ManyToOne(() => Lesson, { nullable: true }) // Optional relationship\r\n  lesson: Lesson;\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date;\r\n\r\n  @UpdateDateColumn()\r\n  updatedAt: Date;\r\n}"],"version":3}