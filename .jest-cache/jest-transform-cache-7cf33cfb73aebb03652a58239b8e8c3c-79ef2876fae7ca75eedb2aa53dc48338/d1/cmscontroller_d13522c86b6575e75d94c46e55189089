24a053182f56d0a0f125ff54c6984546
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.CmsController = void 0;
const common_1 = require("@nestjs/common");
const cms_service_1 = require("./cms.service");
const create_content_dto_1 = require("./dto/create-content.dto");
const update_content_dto_1 = require("./dto/update-content.dto");
const update_status_dto_1 = require("./dto/update-status.dto");
let CmsController = class CmsController {
    constructor(cmsService) {
        this.cmsService = cmsService;
    }
    create(authorId, dto) {
        return this.cmsService.create(dto, authorId);
    }
    update(id, dto) {
        return this.cmsService.update(id, dto);
    }
    updateStatus(id, dto) {
        return this.cmsService.updateStatus(id, dto);
    }
    versions(id) {
        return this.cmsService.findVersions(id);
    }
};
exports.CmsController = CmsController;
__decorate([
    (0, common_1.Post)(':authorId'),
    __param(0, (0, common_1.Param)('authorId')),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, typeof (_b = typeof create_content_dto_1.CreateContentDto !== "undefined" && create_content_dto_1.CreateContentDto) === "function" ? _b : Object]),
    __metadata("design:returntype", void 0)
], CmsController.prototype, "create", null);
__decorate([
    (0, common_1.Patch)(':id'),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, typeof (_c = typeof update_content_dto_1.UpdateContentDto !== "undefined" && update_content_dto_1.UpdateContentDto) === "function" ? _c : Object]),
    __metadata("design:returntype", void 0)
], CmsController.prototype, "update", null);
__decorate([
    (0, common_1.Patch)(':id/status'),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, typeof (_d = typeof update_status_dto_1.UpdateStatusDto !== "undefined" && update_status_dto_1.UpdateStatusDto) === "function" ? _d : Object]),
    __metadata("design:returntype", void 0)
], CmsController.prototype, "updateStatus", null);
__decorate([
    (0, common_1.Get)(':id/versions'),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", void 0)
], CmsController.prototype, "versions", null);
exports.CmsController = CmsController = __decorate([
    (0, common_1.Controller)('cms'),
    __metadata("design:paramtypes", [typeof (_a = typeof cms_service_1.CmsService !== "undefined" && cms_service_1.CmsService) === "function" ? _a : Object])
], CmsController);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxvam9zZXBoXFxEb2N1bWVudHNcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxjbXNcXGNtcy5jb250cm9sbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkU7QUFDM0UsK0NBQTJDO0FBQzNDLGlFQUE0RDtBQUM1RCxpRUFBNEQ7QUFDNUQsK0RBQTBEO0FBR25ELElBQU0sYUFBYSxHQUFuQixNQUFNLGFBQWE7SUFDeEIsWUFBNkIsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtJQUFHLENBQUM7SUFHdkQsTUFBTSxDQUFvQixRQUFnQixFQUFVLEdBQXFCO1FBQ3ZFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFHRCxNQUFNLENBQWMsRUFBVSxFQUFVLEdBQXFCO1FBQzNELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFHRCxZQUFZLENBQWMsRUFBVSxFQUFVLEdBQW9CO1FBQ2hFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFHRCxRQUFRLENBQWMsRUFBVTtRQUM5QixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzFDLENBQUM7Q0FDRixDQUFBO0FBdEJZLHNDQUFhO0FBSXhCO0lBREMsSUFBQSxhQUFJLEVBQUMsV0FBVyxDQUFDO0lBQ1YsV0FBQSxJQUFBLGNBQUssRUFBQyxVQUFVLENBQUMsQ0FBQTtJQUFvQixXQUFBLElBQUEsYUFBSSxHQUFFLENBQUE7O2lFQUFNLHFDQUFnQixvQkFBaEIscUNBQWdCOzsyQ0FFeEU7QUFHRDtJQURDLElBQUEsY0FBSyxFQUFDLEtBQUssQ0FBQztJQUNMLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFBYyxXQUFBLElBQUEsYUFBSSxHQUFFLENBQUE7O2lFQUFNLHFDQUFnQixvQkFBaEIscUNBQWdCOzsyQ0FFNUQ7QUFHRDtJQURDLElBQUEsY0FBSyxFQUFDLFlBQVksQ0FBQztJQUNOLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFBYyxXQUFBLElBQUEsYUFBSSxHQUFFLENBQUE7O2lFQUFNLG1DQUFlLG9CQUFmLG1DQUFlOztpREFFakU7QUFHRDtJQURDLElBQUEsWUFBRyxFQUFDLGNBQWMsQ0FBQztJQUNWLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7Ozs7NkNBRXBCO3dCQXJCVSxhQUFhO0lBRHpCLElBQUEsbUJBQVUsRUFBQyxLQUFLLENBQUM7eURBRXlCLHdCQUFVLG9CQUFWLHdCQUFVO0dBRHhDLGFBQWEsQ0FzQnpCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcb2pvc2VwaFxcRG9jdW1lbnRzXFxTdHJlbGxlck1pbmRzLUJhY2tlbmRcXHNyY1xcY21zXFxjbXMuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250cm9sbGVyLCBQb3N0LCBCb2R5LCBQYXJhbSwgUGF0Y2gsIEdldCB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcclxuaW1wb3J0IHsgQ21zU2VydmljZSB9IGZyb20gJy4vY21zLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDcmVhdGVDb250ZW50RHRvIH0gZnJvbSAnLi9kdG8vY3JlYXRlLWNvbnRlbnQuZHRvJztcclxuaW1wb3J0IHsgVXBkYXRlQ29udGVudER0byB9IGZyb20gJy4vZHRvL3VwZGF0ZS1jb250ZW50LmR0byc7XHJcbmltcG9ydCB7IFVwZGF0ZVN0YXR1c0R0byB9IGZyb20gJy4vZHRvL3VwZGF0ZS1zdGF0dXMuZHRvJztcclxuXHJcbkBDb250cm9sbGVyKCdjbXMnKVxyXG5leHBvcnQgY2xhc3MgQ21zQ29udHJvbGxlciB7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjbXNTZXJ2aWNlOiBDbXNTZXJ2aWNlKSB7fVxyXG5cclxuICBAUG9zdCgnOmF1dGhvcklkJylcclxuICBjcmVhdGUoQFBhcmFtKCdhdXRob3JJZCcpIGF1dGhvcklkOiBzdHJpbmcsIEBCb2R5KCkgZHRvOiBDcmVhdGVDb250ZW50RHRvKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXNTZXJ2aWNlLmNyZWF0ZShkdG8sIGF1dGhvcklkKTtcclxuICB9XHJcblxyXG4gIEBQYXRjaCgnOmlkJylcclxuICB1cGRhdGUoQFBhcmFtKCdpZCcpIGlkOiBzdHJpbmcsIEBCb2R5KCkgZHRvOiBVcGRhdGVDb250ZW50RHRvKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXNTZXJ2aWNlLnVwZGF0ZShpZCwgZHRvKTtcclxuICB9XHJcblxyXG4gIEBQYXRjaCgnOmlkL3N0YXR1cycpXHJcbiAgdXBkYXRlU3RhdHVzKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nLCBAQm9keSgpIGR0bzogVXBkYXRlU3RhdHVzRHRvKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXNTZXJ2aWNlLnVwZGF0ZVN0YXR1cyhpZCwgZHRvKTtcclxuICB9XHJcblxyXG4gIEBHZXQoJzppZC92ZXJzaW9ucycpXHJcbiAgdmVyc2lvbnMoQFBhcmFtKCdpZCcpIGlkOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmNtc1NlcnZpY2UuZmluZFZlcnNpb25zKGlkKTtcclxuICB9XHJcbn0iXSwidmVyc2lvbiI6M30=